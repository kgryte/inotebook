'use strict';

// MODULES //

var path = require( 'path' ),
	pkginfo = require( 'pkginfo' );


// VARIABLES //

var RUNNERS = require( './runners.json' );


// FUNCTIONS //

/**
* FUNCTION: getRoot()
*	Determines the root directory from which the application is run.
*
* @private
*/
function getRoot() {
	var len = RUNNERS.length,
		caller,
		i;

	caller = require.main.filename.split( '/' );
	caller = caller[ caller.length-1 ];

	for ( i = 0; i < len; i++ ) {
		if ( RUNNERS[ i ] === caller ) {
			return process.cwd();
		}
	}
	return path.dirname( pkginfo.find( require.main ) );
} // end FUNCTION getRoot()


// EXPORTS //

module.exports = getRoot();
